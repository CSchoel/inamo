<?xml version="1.0" encoding="UTF-8"?>
<dae xmlns:p1="http://www.w3.org/1998/Math/MathML"
                                                xmlns:xlink="http://www.w3.org/1999/xlink"
                                                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                                                xsi:noNamespaceSchemaLocation="http://home.dei.polimi.it/donida/Projects/AutoEdit/Images/DAE.xsd">
<variables dimension="37">
<orderedVariables dimension="6">
<variablesList>
<variable id="1" name="p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Current flowing from pin p to pin n">
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="2" name="vc.i" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="measured membrane current">
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="3" name="vc.v_stim" variability="continuousState" direction="none" type="Real" differentiatedIndex="1" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="input voltage (needs to be defined externally)">
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="4" name="vc.g.p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="5" name="vc.n.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="6" name="l2.i" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Current flowing from pin p to pin n">
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
</variablesList>
</orderedVariables>
<knownVariables dimension="11">
<variablesList>
<variable id="1" name="vc.g.p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="0.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.0 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="2" name="l2.c" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="membrane capacitance">
<bindExpression string="5.5e-11">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 5.5e-11 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;Capacitance&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> Capacitance 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;F&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> F 
</cn>
</math>
</MathML>
</unit>
<minValue string="0.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.0 
</cn>
</math>
</MathML>
</minValue>
</attributesValues>
</variable>
<variable id="3" name="l2.v_init" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="initial potential (from short initial stimulation)">
<bindExpression string="-0.09">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> -0.09 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="4" name="l2.use_init" variability="parameter" direction="none" type="Boolean" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="determines whether initial value for v is used">
<bindExpression string="false">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<false/>
</apply>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="5" name="na_in" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="intracellular sodium concentration">
<bindExpression string="9.67">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 9.67 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;Concentration&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> Concentration 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;mol/m3&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> mol/m3 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="6" name="k_ex" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="extracellular potassium concentration">
<bindExpression string="5.4">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 5.4 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;Concentration&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> Concentration 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;mol/m3&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> mol/m3 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="7" name="p.current_name" variability="parameter" direction="none" type="String" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="&quot;I_NaK&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> I_NaK 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="8" name="p.i_max" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="maximum current (actual maximum is 1.6 * i_max)">
<bindExpression string="2.192e-10">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 2.192e-10 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="9" name="p.k_m_Na" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="Michaelis constant for Na+ binding">
<bindExpression string="5.46">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 5.46 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;Concentration&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> Concentration 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;mol/m3&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> mol/m3 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="10" name="p.k_m_K" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="Michaelis constant for K+ binding">
<bindExpression string="0.621">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.621 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;Concentration&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> Concentration 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;mol/m3&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> mol/m3 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="11" name="v_start" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="starting value for voltage">
<bindExpression string="-0.06">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> -0.06 
</cn>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
</variablesList>
</knownVariables>
<aliasVariables dimension="20">
<variablesList>
<variable id="1" name="vc.stim.i" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Current flowing from pin p to pin n">
<bindExpression string="-vc.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<minus/>
<ci> vc.i 
</ci>
</apply>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="2" name="vc.stim.p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="-vc.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<minus/>
<ci> vc.i 
</ci>
</apply>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="3" name="vc.stim.n.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="vc.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.i 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="4" name="vc.p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="-vc.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<minus/>
<ci> vc.i 
</ci>
</apply>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="5" name="vc.stim.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Voltage between pin p and n (= p.v - n.v) as input signal">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="6" name="p.p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="p.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> p.i 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="7" name="p.n.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="-p.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<minus/>
<ci> p.i 
</ci>
</apply>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="8" name="vc.stim.n.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.g.p.v">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.g.p.v 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="9" name="vc.n.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.g.p.v">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.g.p.v 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="10" name="l2.n.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.g.p.v">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.g.p.v 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="11" name="p.n.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.g.p.v">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.g.p.v 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="12" name="l2.p.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="l2.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> l2.i 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="13" name="l2.n.i" variability="continuous" direction="none" type="Real" fixed="false" flow="Flow" stream="NonStream" comment="Current flowing into the pin">
<bindExpression string="-l2.i">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<minus/>
<ci> l2.i 
</ci>
</apply>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricCurrent&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricCurrent 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;A&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> A 
</cn>
</math>
</MathML>
</unit>
<nominal string="1e-12">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1e-12 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="14" name="l2.p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="15" name="p.p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="16" name="vc.stim.p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="17" name="vc.p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonFlow" stream="NonStream" comment="Potential at the pin">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
<nominal string="0.001">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.001 
</cn>
</math>
</MathML>
</nominal>
</attributesValues>
</variable>
<variable id="18" name="l2.v" variability="continuousDummyState" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Voltage drop of the two pins (= p.v - n.v)">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="19" name="vc.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Voltage drop of the two pins (= p.v - n.v)">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
<variable id="20" name="p.v" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector" comment="Voltage drop of the two pins (= p.v - n.v)">
<bindExpression string="vc.v_stim">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> vc.v_stim 
</ci>
</math>
</MathML>
</bindExpression>
<attributesValues>
<quantity string="&quot;ElectricPotential&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> ElectricPotential 
</cn>
</math>
</MathML>
</quantity>
<unit string="&quot;V&quot;">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="constant"> V 
</cn>
</math>
</MathML>
</unit>
</attributesValues>
</variable>
</variablesList>
</aliasVariables>
</variables>
<equations dimension="6">
<equation id="1">vc.g.p.i + vc.i - vc.n.i = 0.0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<plus/>
<ci> vc.g.p.i 
</ci>
<apply>
<minus/>
<ci> vc.i 
</ci>
<ci> vc.n.i 
</ci>
</apply>
</apply>
<cn type="real"> 0.0 
</cn>
</apply>
</math>
</MathML>
</equation>
<equation id="2">vc.n.i = vc.i
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> vc.n.i 
</ci>
<ci> vc.i 
</ci>
</apply>
</math>
</MathML>
</equation>
<equation id="3">vc.n.i + (-l2.i) - p.i = 0.0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<plus/>
<ci> vc.n.i 
</ci>
<apply>
<minus/>
<apply>
<minus/>
<ci> l2.i 
</ci>
</apply>
<ci> p.i 
</ci>
</apply>
</apply>
<cn type="real"> 0.0 
</cn>
</apply>
</math>
</MathML>
</equation>
<equation id="4">der(vc.v_stim) = l2.i / l2.c
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<diff/>
<ci> vc.v_stim 
</ci>
</apply>
<apply>
<divide/>
<ci> l2.i 
</ci>
<ci> l2.c 
</ci>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="5">p.i = p.i_max * InaMo.Functions.Biochemical.michaelisMenten(na_in, p.k_m_Na) ^ 3.0 * InaMo.Functions.Biochemical.michaelisMenten(k_ex, p.k_m_K) ^ 2.0 * InaMo.Functions.Fitting.genLogistic(vc.v_stim, 0.0, 1.6, -0.06, 25.0, 1.0, 1.5, 1.0)
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> p.i 
</ci>
<apply>
<times/>
<ci> p.i_max 
</ci>
<apply>
<times/>
<apply>
<power/>
<apply>
<InaMo.Functions.Biochemical.michaelisMenten/>
<ci> na_in 
</ci>
<ci> p.k_m_Na 
</ci>
</apply>
<cn type="real"> 3.0 
</cn>
</apply>
<apply>
<times/>
<apply>
<power/>
<apply>
<InaMo.Functions.Biochemical.michaelisMenten/>
<ci> k_ex 
</ci>
<ci> p.k_m_K 
</ci>
</apply>
<cn type="real"> 2.0 
</cn>
</apply>
<apply>
<InaMo.Functions.Fitting.genLogistic/>
<ci> vc.v_stim 
</ci>
<cn type="real"> 0.0 
</cn>
<cn type="real"> 1.6 
</cn>
<cn type="real"> -0.06 
</cn>
<cn type="real"> 25.0 
</cn>
<cn type="real"> 1.0 
</cn>
<cn type="real"> 1.5 
</cn>
<cn type="real"> 1.0 
</cn>
</apply>
</apply>
</apply>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="6">der(vc.v_stim) = 0.001
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<diff/>
<ci> vc.v_stim 
</ci>
</apply>
<cn type="real"> 0.001 
</cn>
</apply>
</math>
</MathML>
</equation>
</equations>
<initialEquations dimension="1">
<equation id="1">vc.v_stim = v_start
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> vc.v_stim 
</ci>
<ci> v_start 
</ci>
</apply>
</math>
</MathML>
</equation>
</initialEquations>
<functions>
<function name="InaMo.Functions.Biochemical.michaelisMenten">
<ModelicaImplementation>function(s :: Real * k :: Real) =&gt; RealInaMo.Functions.Biochemical.michaelisMentenfunction InaMo.Functions.Biochemical.michaelisMenten&quot;Inline if necessary&quot; &quot;equation for enzymatic reactions following Michaelis-Menten kinetics&quot;
  input Real s(quantity = &quot;Concentration&quot;, unit = &quot;mol/m3&quot;) &quot;substrate concentration&quot;;
  input Real k(quantity = &quot;Concentration&quot;, unit = &quot;mol/m3&quot;) &quot;concentration producing half-maximum reaction rate (michaelis constant)&quot;;
  output Real rate(unit = &quot;1&quot;) &quot;reaction rate&quot;;
algorithm
  rate := s / (s + k);
end InaMo.Functions.Biochemical.michaelisMenten;


</ModelicaImplementation>
</function>
<function name="InaMo.Functions.Fitting.genLogistic">
<ModelicaImplementation>function(x :: Real * y_min :: Real * y_max :: Real * x0 :: Real * sx :: Real * se :: Real * d_off :: Real * nu :: Real) =&gt; RealInaMo.Functions.Fitting.genLogisticfunction InaMo.Functions.Fitting.genLogistic&quot;Inline if necessary&quot; &quot;generalized logistic function for fitting sigmoidal curves&quot;
  input Real x &quot;input value&quot;;
  input Real y_min = 0.0 &quot;lower asymptote (fitting parameter)&quot;;
  input Real y_max = 1.0 &quot;upper asmyptote when d_off=1 and nu=1 (fititng parameter)&quot;;
  input Real x0 = 0.0 &quot;x-value of sigmoid midpoint when d_off=1 and nu=1 (fitting parameter)&quot;;
  input Real sx = 1.0 &quot;scaling factor for x axis (i.e. steepness, fitting parameter)&quot;;
  input Real se = 1.0 &quot;scaling factor for exponential part (fitting parameter)&quot;;
  input Real d_off = 1.0 &quot;offset in denominator (affects upper asymptote, fitting parameter)&quot;;
  input Real nu = 1.0 &quot;reciprocal of exponent of denominator (affects upper asymptote, fitting parameter)&quot;;
  output Real y &quot;result&quot;;
  protected Real x_adj &quot;adjusted x with offset and scaling factor&quot;;
algorithm
  x_adj := sx * (x - x0);
  y := y_min + (y_max - y_min) / (se * exp(-x_adj) + d_off) ^ (1.0 / nu);
end InaMo.Functions.Fitting.genLogistic;


</ModelicaImplementation>
</function>
</functions>
</dae>